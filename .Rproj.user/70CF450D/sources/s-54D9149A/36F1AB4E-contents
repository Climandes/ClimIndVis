### test make_object


source("/prod/zue/climate/comm_serv/CLIMANDES_Data/src_C2/Rclimandes_2/imn_code/climandes-2/experiments/imn/read_obs+pisco_data.R")


x1 <-5
x2<-18
y1 <- 10
y2<- 22
pisco_p_eragrid<-get_PISCO_daily(datadir,ref_time=prec$time,remap=TRUE)

climandes_pisco_p_eragrid <-make_object(
  prec = pisco_p_eragrid$var[x1:x2, y1:y2,],
  dates_prec = pisco_p_eragrid$time,
  lon = pisco_p_eragrid$lon[x1:x2], lat = pisco_p_eragrid$lat[y1:y2],
  data_info = list( type = "grid", date_format = "t1d", data_name = "PISCO at ERA-grid"))


climandes_hc<-make_object(prec=tp_hc,tmin=tmin_hc,tmax=tmax_hc,tavg=tavg_hc,
                          dates_prec=time_tp,dates_tmin=time_tmin,dates_tmax=time_tmax,dates_tavg=time_tavg,
                          lon=prec$lon,lat=prec$lat,data_info=list(type="p_hc",date_format="t2d",data_name="ECMWF S4",
                                                                   data_name=paste0("ECMWF S4 ",init),fmon=init))


data(data_hc_grid)
data_hc_grid$data_info
climindvis_grid_hc <- make_object(
     tmin = data_hc_grid$tmin, tmax = data_hc_grid$tmax, prec = data_hc_grid$prec,
     dates_tmin = data_hc_grid$time, dates_tmax = data_hc_grid$time, dates_prec = data_hc_grid$time,
     lon = data_hc_grid$lon, lat = data_hc_grid$lat,  data_info = data_hc_grid$data_info)
class(climindvis_grid_hc)

data(data_st)
climindvis_st <- make_object(tmin = data_st$tmin, tmax = data_st$tmax, tavg = data_st$tvag, prec = data_st$prec,
dates_tmin = data_st$time, dates_tmax = data_st$time, dates_tavg = data_st$time, dates_prec = data_st$time,
lon = data_st$lon, lat = data_st$lat,  data_info = data_st$data_info, data_range=c(1950,2000))
class(climindvis_st)

 # make climindvis object with gridded data
data(data_grid)
 climindvis_grid <- make_object(
     tmin = data_grid$tmin,tmax = data_grid$tmax, prec = data_grid$prec,
     dates_tmin = data_grid$time, dates_tmax = data_grid$time, dates_prec = data_grid$time,
     lon = data_grid$lon, lat = data_grid$lat,  data_info = data_grid$data_info)
 class(climindvis_grid)


